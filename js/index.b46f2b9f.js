(function(){"use strict";var t={5588:function(t,e,a){var n=a(144),o=a(998),r=a(6072),i=a(6312),s=a(4461),l=a(433),d=a(5125),c=a(3059),f=a(2933),u=a(3305),m=a(8419),h=a(6490),p=a(3687),g=a(1378),b=a(8710),v=function(){var t=this,e=t._self._c;return e(o.Z,[e(r.Z,{attrs:{dense:"",app:"",color:"primary",dark:""}},[e(i.Z,[t._v("PDF Generator")]),e(p.Z),e(s.Z,{attrs:{color:"secondary",href:"scanner.html"}},[t._v("Scanner")])],1),e(c.Z,[e(l.Z,{staticClass:"pb-16"},[e(d.Z,[e("div",{staticClass:"text-h6"},[t._v("Personal information")]),e(b.Z,{attrs:{label:"Name",autocomplete:"name"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),e(b.Z,{attrs:{label:"Natianal ID",autocomplete:"off"},model:{value:t.formData.national_id,callback:function(e){t.$set(t.formData,"national_id",e)},expression:"formData.national_id"}}),e(b.Z,{attrs:{type:"date",label:"Birthday",autocomplete:"off",clearable:""},model:{value:t.formData.birthday,callback:function(e){t.$set(t.formData,"birthday",e)},expression:"formData.birthday"}}),e(h.Z,{attrs:{label:"Gender",row:""},model:{value:t.formData.gender,callback:function(e){t.$set(t.formData,"gender",e)},expression:"formData.gender"}},[e(m.Z,{attrs:{label:"Male",value:"M"}}),e(m.Z,{attrs:{label:"Female",value:"F"}})],1),e(b.Z,{attrs:{label:"Address",autocomplete:"address"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}}),e(b.Z,{attrs:{label:"Phone",autocomplete:"phone"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}}),e(s.Z,{attrs:{color:"primary"},on:{click:t.generatePdf}},[t._v("Download PDF")])],1),e("fieldset",{staticClass:"mt-5",staticStyle:{padding:"20px"}},[e("legend",[t._v("Test tools")]),e("div",{staticClass:"d-flex flex-row flex-wrap",staticStyle:{"align-items":"center"}},[e(g.Z,{staticClass:"mr-2",attrs:{label:"Auto download"},model:{value:t.autoDownload,callback:function(e){t.autoDownload=e},expression:"autoDownload"}}),e(s.Z,{staticClass:"mr-2",attrs:{color:"primary"},on:{click:t.randomData}},[t._v("Random data")])],1),e("embed",{staticStyle:{width:"100%",height:"1000px"},attrs:{id:"pdf",type:"application/pdf"}}),e("div",{attrs:{id:"qrcode"}})])],1),e(f.Z,{attrs:{value:t.loadingAnimate}},[e(u.Z,{attrs:{indeterminate:"",size:"64"}})],1)],1)],1)},D=[];a(2801);function w(t){let e="";while(t>=0)e=String.fromCharCode(97+t%26)+e,t=Math.floor(t/26)-1;return e}const y=["name","national_id","birthday","gender","address","phone"];var Z=a(3738),x=a(9872),_=a(2258),S=a(1076),k=a(7693),O=a(3727),P={name:"App",components:{},data(){let t={autoDownload:!1,loadingAnimate:!1,formData:{}};return y.forEach((e=>{t.formData[e]=null})),t},created(){},methods:{async generatePdf(){this.loadingAnimate=!0;const t="form.pdf",e=await fetch(t).then((t=>t.arrayBuffer())),a=await x.PDFDocument.load(e);a.registerFontkit(_.Z);const n="kaiu.ttf",o=await fetch(n).then((t=>t.arrayBuffer())),r=await a.embedFont(o,{subset:!0}),i=await a.embedFont(x.StandardFonts.Helvetica),s=a.getPages(),l=s[0];var d=function(t,e,a,n,o,r){if(t){if(t=t.toString(),n=n||12,o=o||!1,o){var i=r.widthOfTextAtSize(t,n);e-=i/2}l.drawText(t,{x:e,y:a,size:n,font:r,color:(0,x.rgb)(0,0,0)})}},c=function(t,e){d(t,e[0],e[1],e[2],e[3],r)},f=function(t,e){d(t,e[0],e[1],e[2],e[3],i)};c(this.formData.name,[170,664]),f(this.formData.national_id,[170,642]),f(this.formData.birthday,[170,620]),"M"===this.formData.gender?f("V",[167,598]):"F"===this.formData.gender&&f("V",[213,598]),c(this.formData.address,[170,576]),f(this.formData.phone,[170,554]),f((new Date).toISOString().substr(0,10),[170,532]);let u={};y.forEach(((t,e)=>{this.formData[t]&&(u[w(e)]=this.formData[t])}));const m=new S.pp;let h=new URLSearchParams(u).toString();if(h=decodeURI(h),""===h)return void(this.loadingAnimate=!1);let p=new Map;p.set(k.EncodeHintType.ERROR_CORRECTION,O.Z.L);const g=140;console.log(h);const b=m.write(h,1,1,p);b.height.baseVal.value=g,b.width.baseVal.value=g;const v=(new XMLSerializer).serializeToString(b),D="data:image/svg+xml;base64,"+btoa(v);var Z=document.createElement("canvas"),P=Z.getContext("2d");P.canvas.width=g,P.canvas.height=g,P.fillStyle="white",P.fillRect(0,0,Z.width,Z.height);var T=document.createElement("img");T.setAttribute("src",D),T.onload=async()=>{P.drawImage(T,0,0),P.beginPath(),P.moveTo(0,0),P.lineTo(0,g),P.lineTo(g,g),P.lineTo(g,0),P.lineTo(0,0),P.stroke();const t=await a.embedPng(Z.toDataURL("image/png"));l.drawImage(t,{x:365,y:533,width:g,height:g});const e=await a.saveAsBase64({dataUri:!0});document.getElementById("pdf").src=e;var n=document.createElement("a");n.href=e,n.setAttribute("target","_blank"),n.setAttribute("download","test.pdf"),this.autoDownload&&(n.click(),this.dialogSubmit=!0),this.loadingAnimate=!1}},randomData(){Z.We.locale="zh_TW",this.formData.name=Z.We.name.lastName()+Z.We.name.firstName(),this.formData.national_id=Z.We.random.alpha({count:1,casing:"upper"})+Z.We.random.numeric(9),this.formData.birthday=Z.We.date.birthdate().toISOString().substr(0,10),this.formData.gender=Z.We.helpers.arrayElement(["M","F"]),this.formData.address=Z.We.address.city()+Z.We.address.streetAddress(),this.formData.phone=Z.We.phone.number(),this.generatePdf()}}},T=P,A=a(1001),C=(0,A.Z)(T,v,D,!1,null,"f19f753e",null),F=C.exports,E=a(6560);n.ZP.use(E.Z);var W=new E.Z({});n.ZP.config.productionTip=!1,new n.ZP({vuetify:W,render:t=>t(F)}).$mount("#app")}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,r){if(!n){var i=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],r=t[c][2];for(var s=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[l])}))?n.splice(l--,1):(s=!1,r<i&&(i=r));if(s){t.splice(c--,1);var d=o();void 0!==d&&(e=d)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[n,o,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.j=826}(),function(){var t={826:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,i=n[0],s=n[1],l=n[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(l)var c=l(a)}for(e&&e(n);d<i.length;d++)r=i[d],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(c)},n=self["webpackChunkexchange_data_pdf_qrcode"]=self["webpackChunkexchange_data_pdf_qrcode"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(5588)}));n=a.O(n)})();
//# sourceMappingURL=index.b46f2b9f.js.map